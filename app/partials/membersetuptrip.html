<div class="pageCaption row">
    <div class="col-md-12">
        <h2 class="headerTitle">Manage Your Trip & Waypoint Information</h2>
    </div> <!-- end of column -->
</div> <!-- end of row -->

<div class="pageStandardOffset row">
    <div class="col-md-4">
        <div style="padding-bottom:35px;" class="form-group">
            <label for="membertrips" style="text-align:right;" class="col-md-3">Trips</label>
            <div class="col-md-8  form-inline">
                <select tabindex="1" class="form-control" ng-change="getMemberTrip(current.tripid)" ng-model="current.tripid" id="membertrips" name="membertrips" >
                    <option value="Not Selected">Not Selected</option>
                    <option ng-repeat="trip in membertrips" ng-selected="current.tripid == trip.id" value="{{trip.id}}">{{trip.tripname}}</option>
                </select>
                
                <div style="padding-left:15px;display:inline;" class="">
                    <button style="width:20%;" class="btn btn-info btn-sm" ng-click="newTrip()" id="newTripButton">New</button>
                </div>
            </div> <!-- end of col 6 -->
        </div> <!-- end of form-group -->

        <form id="membersetuptripForm" name="membersetuptripForm" style="padding:5px;" class="form-horizontal">
            <div style="padding-top:25px;" class="panel panel-default">
                <div class="form-group" >
                    <label for="membername" class="col-md-4 control-label">Trip</label>
                    <div class="col-md-7">
                        <input tabindex="2" type="text" class="form-control" ng-model="current.trip.tripname" id="tripname" name="tripname" placeholder="Trip name">
                    </div> <!-- end of col -->

                    <input type="hidden" value="{{current.tripid}}" id="tripid" name="tripid">
                    <input type="hidden" value="{{current.memberid}}" id="memberid" name="memberid">
                </div> <!-- end of form-group -->

                <div class="form-group" >
                    <div class="col-md-offset-4 col-md-7">
                        <input tabindex="3" type="checkbox" ng-model="current.trip.currenttrip" ng-checked="current.trip.currenttrip == '1'" id="currenttrip" name="currenttrip"> This is current trip
                    </div>
                </div> <!-- end of form-group -->
            </div> <!-- end of panel panel -->

            <div class="panel panel-success">
                <div class="panel-heading panelTitlelMYRV">Start Information</div> <!-- end of inner pannel heading-->
                <div class="panel-body">
                    <div class="form-group">
                        <label for="startdate" class="col-md-4 control-label">Date</label>
                        <div class="col-md-7">
                            <input tabindex="4" type="text" class="form-control" ng-model="current.trip.startdate" id="startdate" name="startdate"  myrvdatepicker />
                        </div>
                    </div> <!-- end of form-group -->

                    <div class="form-group">
                        <label for="startdate" class="col-md-4 control-label">Location</label>
                        <div class="col-md-7">
                            <input tabindex="6" type="text" class="form-control" ng-model="current.trip.startlocation" id="startlocation" name="startlocation" placeholder="Start Location">
                        </div>
                    </div> <!-- end of form-group -->

                    <div class="form-group">
                        <label for="startodometer" class="col-md-4 control-label">Odometer</label>
                        <div class="col-md-7">
                            <input tabindex="8" type="text" class="form-control" ng-model="current.trip.startodometer" id="startodometer" name="startodometer" placeholder="Start Odometer">
                        </div>
                    </div> <!-- end of form-group -->

                    <div class="form-group">
                        <label for="startlatitude" class="col-md-4 control-label">Latitude</label>
                        <div class="col-md-7">
                            <input tabindex="10" type="text" class="form-control" ng-model="current.trip.startlatitude" id="startlatitude" name="startlatitude" placeholder="Start Latitude">
                        </div>
                    </div> <!-- end of form-group -->

                    <div class="form-group">
                        <label for="startlongitude" class="col-md-4 control-label">Longitude</label>
                        <div class="col-md-7">
                            <input tabindex="11" type="text" class="form-control" ng-model="current.trip.startlongitude" id="startlongitude" name="startlongitude" placeholder="Start Longitude">
                        </div>
                    </div> <!-- end of form-group -->
                </div>  <!-- end of inner pannel body -->  
            </div> <!-- end of inner pannel -->
                
            <div class="panel panel-success">
                <div class="panel-heading panelTitlelMYRV">End Information</div> <!-- end of inner pannel heading-->
                <div class="panel-body">
                    <div class="form-group">
                        <label for="enddate" class="col-md-4 control-label">Date</label>
                        <div class="col-md-7">
                            <input tabindex="5" type="text" class="form-control" ng-model="current.trip.enddate" id="enddate" name="enddate"  myrvdatepicker />
                        </div>
                    </div> <!-- end of form-group -->

                    <div class="form-group">
                        <label for="endlocation" class="col-md-4 control-label">Location</label>
                        <div class="col-md-7">
                            <input tabindex="7" type="text" class="form-control" ng-model="current.trip.endlocation" id="endlocation" name="endlocation" placeholder="End Location">
                        </div>
                    </div> <!-- end of form-group -->

                    <div class="form-group">
                        <label for="endodometer" class="col-md-4 control-label">Odometer</label>
                        <div class="col-md-7">
                            <input tabindex="9" type="text" class="form-control" ng-model="current.trip.endodometer" id="endodometer" name="endodometer" placeholder="End Odometer">
                        </div>
                    </div> <!-- end of form-group --> 

                    <div class="form-group">
                        <label for="endlatitude" class="col-md-4 control-label">Latitude</label>
                        <div class="col-md-7">
                            <input tabindex="12" type="text" class="form-control" ng-model="current.trip.endlatitude" id="endlatitude" name="endlatitude" placeholder="End Latitude">
                        </div>
                    </div> <!-- end of form-group -->

                    <div class="form-group">
                        <label for="endlongitude" class="col-md-4 control-label">Longitude</label>
                        <div class="col-md-7">
                            <input tabindex="13" type="text" class="form-control" ng-model="current.trip.endlongitude" id="endlongitude" name="endlongitude" placeholder="End Longitude">
                        </div>
                    </div> <!-- end of form-group -->
                </div>  <!-- end of inner pannel body -->     
            </div> <!-- end of inner pannel -->

            <div style="padding-top:15px;" class="form-group">
                <div class="col-sm-offset-3 col-sm-10">
                    <button style="width:20%;" class="btn btn-info btn-sm" ng-click="updateMemberTrip()" id="updateButton">Save</button>
                    
                    <span style="padding-left:45px;">&nbsp;</span>
                    <button style="width:20%;" class="btn btn-danger btn-sm" ng-click="DeleteMemberTrip()" id="deleteButton">Delete</button>
                </div> <!-- end of col -->
            </div> <!-- end of form-group -->                     
        </form>
    </div> <!-- end of div col md 5 -->

    <div style="height:400px;" ng-hide="current.tripid" class="col-md-5">
    
        <div style="padding-top:35%;text-align:center;">
            <h3> Select a trip and Waypoints will appear here</h3>
        </div>

    </div>

    <div ng-hide="!current.tripid" class="col-md-2">
        <div style="padding-bottom:35px;" class="row">
            <label for="membertripwaypoints" style="text-align:right;" class="col-md-3">Waypoints</label>
                
            <div style="padding-left:15px;display:inline;" class="col-md-7">
                <button style="width:20%;" class="btn btn-info btn-sm" ng-click="newTripWaypoint()" id="newTripWaypointButton">New</button>
            </div>
        </div><!-- end row -->
        <div style="padding-top:25px;height:800px;overflow:auto;" class="panel panel-default">
            <div ng-repeat="waypoint in membertripwaypoints" ng-click="getMemberTripWaypoint(waypoint.tripid,waypoint.id)">{{waypoint.waypointname}}</div>   
        </div>
    </div> 

    <div ng-hide="!current.tripid && !current.waypointid" class="col-md-4">
        <form id="membersetuptripwaypointForm" name="membersetuptripwaypointForm" style="padding:5px;" class="form-horizontal">
            <div style="padding-top:25px;" class="panel panel-default">
                <div class="form-group" >
                    <label for="membername" class="col-md-4 control-label">Waypoint</label>
                    <div class="col-md-7">
                        <input tabindex="15" type="text" class="form-control" ng-model="current.waypoint.waypointname" id="waypointname" name="waypointname" placeholder="Waypointname name">
                    </div> <!-- end of col -->

                    <input type="hidden" value="{{current.waypointid}}" id="waypointid" name="waypointid">
                    <input type="hidden" value="{{current.tripid}}" id="tripid" name="tripid">
                    <input type="hidden" value="{{current.memberid}}" id="memberid" name="memberid">
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="startdate" class="col-md-4 control-label">Order Nbr</label>
                    <div class="col-md-7">
                        <input tabindex="16" type="text" class="form-control" ng-model="current.waypoint.sequencenumber" id="sequencenumber" name="sequencenumber" placeholder="Order Nbr">
                    </div>
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="waypointdate" class="col-md-4 control-label">Arrive Date</label>
                    <div class="col-md-7">
                        <input tabindex="17" type="text" class="form-control" ng-model="current.waypoint.waypointdate" id="waypointdate" name="waypointdate"  myrvdatepicker />
                    </div>
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="duration" class="col-md-4 control-label">Duration</label>
                    <div class="col-md-7">
                        <input tabindex="18" type="text" class="form-control" ng-model="current.waypoint.duration" id="duration" name="duration" placeholder="Duration">
                    </div>
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="address" class="col-md-4 control-label">Address</label>
                    <div class="col-md-7">
                        <input tabindex="19" type="text" class="form-control" ng-model="current.waypoint.address" id="address" name="address" placeholder="Address">
                    </div>
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="city" class="col-md-4 control-label">City</label>
                    <div class="col-md-7">
                        <input tabindex="20" type="text" class="form-control" ng-model="current.waypoint.city" id="city" name="city" placeholder="City">
                    </div>
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="state" class="col-md-4 control-label">State</label>
                    <div class="col-md-7">
                        <input tabindex="21" type="text" class="form-control" ng-model="current.waypoint.state" id="state" name="state" placeholder="State">
                    </div>
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="estimatedmiles" class="col-md-4 control-label">Est miles</label>
                    <div class="col-md-7">
                        <input tabindex="22" type="text" class="form-control" ng-model="current.waypoint.estimatedmiles" id="estimatedmiles" name="estimatedmiles" placeholder="Est miles from prev waypoint">
                    </div>
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="latitude" class="col-md-4 control-label">Latitude</label>
                    <div class="col-md-7">
                        <input tabindex="23" type="text" class="form-control" ng-model="current.waypoint.latitude" id="latitude" name="latitude" placeholder="Latitude">
                    </div>
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="longitude" class="col-md-4 control-label">Longitude</label>
                    <div class="col-md-7">
                        <input tabindex="24" type="text" class="form-control" ng-model="current.waypoint.longitude" id="longitude" name="longitude" placeholder="Longitude">
                    </div>
                </div> <!-- end of form-group -->

                <div class="form-group">
                    <label for="biography" class="col-md-4 control-label">Comments</label>
                    <div class="col-md-7">
                        <textarea tabindex="25" class="form-control" ng-model="current.waypoint.comments" id="comments" name="comments" rows="3"></textarea>
                    </div>
                </div> <!-- end of form-group -->
            </div> <!-- end of panel panel -->

            <div style="padding-top:15px;" class="form-group">
                <div class="col-sm-offset-3 col-sm-10">
                    <button style="width:20%;" class="btn btn-info btn-sm" ng-click="updateMemberTripWaypoint()" id="updateButton">Save</button>
                    
                    <span style="padding-left:45px;">&nbsp;</span>
                    <button style="width:20%;" class="btn btn-danger btn-sm" ng-click="DeleteMemberTripWaypoint()" id="deleteButton">Delete</button>
                </div> <!-- end of col -->
            </div> <!-- end of form-group --> 
        </form>
    </div> <!-- end of div col md 4 -->   
</div> <!-- end of row -->

<!-- dialogs -->
<div class="modal fade" id="tripSetupMemberDialogModal" tabindex="-" role="dialog" aria-labelledby="tripSetupMemberDialogModalTitle" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="tripSetupMemberDialogModalTitle"></h4>
      </div>
      <div class="modal-body">
        <p id="tripSetupMemberDialogModalBody"></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
